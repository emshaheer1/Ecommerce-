<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Felicia Store – Owner Dashboard</title>
    <link rel="stylesheet" href="/dashboard.css" />
    <script src="/theme.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="dashboard-shell">
      <aside class="sidebar">
        <div class="sidebar-header">
          <div class="logo-circle">F</div>
          <div class="brand-text">
            <span class="brand-name">Felicia Store</span>
            <span class="brand-tagline">Owner dashboard</span>
          </div>
        </div>
        <nav class="sidebar-nav">
          <button class="nav-item active" data-view="overview">Overview</button>
          <button class="nav-item" data-view="orders">Orders</button>
          <button class="nav-item" data-view="customers">Customers</button>
        </nav>
        <div class="sidebar-footer">
          <a href="/" class="back-link">← Back to store</a>
          <button id="btn-logout" class="logout-btn">Log out</button>
        </div>
      </aside>

      <main class="dashboard-main">
        <header class="dashboard-header">
          <div>
            <h1>Sales overview</h1>
            <p>Track orders and customers across Felicia Store.</p>
          </div>
          <div class="header-actions">
            <button id="theme-toggle" class="theme-toggle dashboard-theme-toggle" aria-label="Toggle dark mode">
              <span class="theme-icon-sun"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg></span>
              <span class="theme-icon-moon"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg></span>
            </button>
            <button id="download-btn" class="btn-outline">Download</button>
            <button id="refresh-btn" class="btn-outline">Refresh data</button>
          </div>
        </header>

        <section id="view-overview" class="view active">
          <div class="grid-3">
            <div class="stat-card">
              <span class="stat-label">Total revenue</span>
              <span class="stat-value" id="stat-revenue">$0.00</span>
              <span class="stat-sub" id="stat-orders-count">0 orders</span>
            </div>
            <div class="stat-card">
              <span class="stat-label">Average order value</span>
              <span class="stat-value" id="stat-aov">$0.00</span>
              <span class="stat-sub">Based on all orders</span>
            </div>
            <div class="stat-card">
              <span class="stat-label">Unique customers</span>
              <span class="stat-value" id="stat-customers">0</span>
              <span class="stat-sub">By customer email</span>
            </div>
          </div>

          <div class="panel">
            <div class="panel-header">
              <h2>Recent orders</h2>
            </div>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>Order</th>
                    <th>Date</th>
                    <th>Customer</th>
                    <th>Total</th>
                    <th>Items</th>
                  </tr>
                </thead>
                <tbody id="recent-orders-body">
                  <tr>
                    <td colspan="5" class="empty-row">No orders yet.</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <section id="view-orders" class="view">
          <div class="panel">
            <div class="panel-header">
              <div>
                <h2>All orders</h2>
                <p>Full list of orders placed in the store.</p>
              </div>
              <div class="filters">
                <input
                  type="text"
                  id="filter-search"
                  placeholder="Search by customer, email or order ID..."
                />
              </div>
            </div>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>Order ID</th>
                    <th>Customer</th>
                    <th>Email</th>
                    <th>Total</th>
                    <th>Items</th>
                    <th>Date</th>
                  </tr>
                </thead>
                <tbody id="orders-table-body">
                  <tr>
                    <td colspan="6" class="empty-row">No orders yet.</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <section id="view-customers" class="view">
          <div class="panel">
            <div class="panel-header">
              <div>
                <h2>Customers</h2>
                <p>Unique customers grouped by email.</p>
              </div>
            </div>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Address</th>
                    <th>City</th>
                    <th>Postal</th>
                    <th>Country</th>
                    <th>Orders</th>
                    <th>Total spend</th>
                  </tr>
                </thead>
                <tbody id="customers-table-body">
                  <tr>
                    <td colspan="9" class="empty-row">No customers yet.</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <div id="dashboard-status" class="dashboard-status" hidden></div>
      </main>
    </div>

    <script src="/no-inspect.js"></script>
    <script>document.getElementById('theme-toggle').addEventListener('click', function () { window.FeliciaTheme.toggle(); });</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <script src="/dashboard.js" defer></script>
  </body>
  </html>

